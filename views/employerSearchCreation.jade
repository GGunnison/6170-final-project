//- Authors: Daniel Sanchez, Samuel Edson, Sabrina Drammis
extends layout

block head
  link(rel='stylesheet', href='/css/employerSearchCreation.css')
  script(type="text/javascript", src="//code.jquery.com/ui/1.11.2/jquery-ui.js")
  script(type="text/javascript", src="/js/searchCreationController.js")

block content
  div.cont(data-ng-controller="searchCreationController")
    input#csrf(type="hidden", value="#{_csrf}")
    table
      tbody
        tr
          td(width='350px')
            div.leftColCont
              div.colCont
                table
                  tbody
                    tr(height="0")
                      td
                        h3 Search by Skills
                        input.form-control.skillsSearchInput(ng-model="query", placeholder="Search for skills")
                    tr
                      td
                        div.leftColSectionCont
                          div#skillsCont.leftColSection
                            div.skill(ng-repeat="skill in viewModel.skills | filter:query")
                              span.draggable.label.label-default(id="{{skill._id}}", ng-bind="skill.name")
                    tr
                      td
                        div.leftColSectionCont
                          div.leftColSection.skillsDrop.requiredSkillsDrop
                            div.dragInstructionTextDiv
                              h3 Drag required skills here
                    tr
                      td
                        div.leftColSectionCont
                          div.leftColSection.skillsDrop.desiredSkillsDrop
                            div.dragInstructionTextDiv
                              h3 Drag desired skills here
                    tr(height="0")
                      td
                        button#skillSubmit.btn.btn-success Submit
                            

          td
            div.rightColCont
              div.colCont
                h3 Results
                div.searchResult.g-shadow(ng-repeat="result in viewModel.searchResults")
                  table
                    tbody
                      tr
                        td(width="50%")
                          div.infoContainer
                            h4.resultHeader(ng-bind="result.name")
                            div.resultBasicInfo
                              div(ng-bind="result.email")
                        td(width="50%")
                          div.infoContainer
                            h4.resultHeader Skills:
                            div.resultSkills
                              div.skill.draggedSkill(ng-repeat="skill in result.skills")
                                span.label.label-default(ng-bind="viewModel.skillsMap[skill]")


//    span Search 
//    input(ng-model="query")
//    table
//      tbody
//        tr
//          td.mainCol(width='400px')
//            table
//              tbody
//                tr
//                  td
//                    h3 Skills
//                tr
//                  td(height='100%')
//                    div.skillsCol
//                      div.skill(ng-repeat="skill in viewModel.skills | filter:query")
//                        span.draggable.label.label-default(id="{{skill._id}}", ng-bind="skill.name")
//          td.mainCol.rightCol
//            table
//              tbody
//                tr(height='0')
//                  td
//                    h4 Required skills
//                tr
//                  td
//                    div.skillsDrop.requiredSkillsDrop
//                tr(height='0')
//                  td
//                    h4 Desired skills
//                tr
//                  td
//                    div.skillsDrop.desiredSkillsDrop
//                tr(height='0')
//                  td
//                    button#skillSubmit.btn.btn-success Submit


block nav_right
  a.navbar-brand(href="/logout") Logout
